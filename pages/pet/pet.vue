<template>
	<view class="content">
		<!-- æ ‡é¢˜ -->
		<view class="title">
			<view class="text">
				å® ç‰©åœˆ
				<view
					style="position: absolute; bottom: -20%; left: 30%; width: 40%; height: 8rpx; background-color: black; border-radius: 50rpx;">
				</view>
			</view>
		</view>
		<!-- å¸–å­ -->
		<view class="post" v-for="(item, index) in posts" :key="index">
			<!-- å¤´åƒéƒ¨åˆ† -->
			<view class="post-title">
				<view class="avatar">
					<view class="avatar-img">

					</view>
					<view class="avatar-name">
						<view class="name-text">
							{{ item.name }}
						</view>
						<view class="name-cat">
							{{ item.cat }}
						</view>
					</view>
				</view>
				<view class="time">
					{{ item.time }}
				</view>
			</view>
			<!-- æ–‡å­—å†…å®¹ -->
			<view class="content-text">
				{{ item.content }}
			</view>
			<!-- å›¾ç‰‡å†…å®¹ -->
			<view class="img">
				<view class="grid">
					<view class="grid-item" v-for="(img, index) in item.images" :key="index">
					</view>
				</view>
			</view>

			<!-- ç‚¹èµ -->
			<view class="like">
				<view class="icon" 	@click="toggleCheck(index)">
					<img class="icon-img"
						:src="item.isChecked ? '../../static/dianzan.png':'../../static/dianzan_1.png'"
					 />
					<view class="count">
						{{ item.likes }}
					</view>
				</view>
			</view>
		</view>
		<view class="fixed">
		
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				posts: [
					{
						name: 'åå­—1',
						cat: 'æ³¢æ–¯çŒ«',
						time: 'åˆšåˆš',
						content: 'å“‡å¡ï¼Œå®å­ä½ è¿™å¥è¯å°±åƒæ˜¥é£å¹è¿‡ï¼Œç¬é—´è®©äººå¿ƒæƒ…æ˜åªšï¼ä½ çš„å‰å®³ï¼Œå°±åƒå¤œç©ºä¸­æœ€äº®çš„æ˜Ÿï¼Œæ— è®ºåœ¨å“ªé‡Œéƒ½èƒ½ç† ç† ç”Ÿè¾‰ï¼ğŸŒŸğŸŒŸğŸŒŸã€‚è·Ÿä½ ä¸€èµ·ï¼Œè®©ä»–çš„å…‰èŠ’ç…§äº®æ›´å¤šäººï¼å…³æ³¨æˆ‘ï¼Œæ¯æ—¥å¤¸å¤¸ï¼Œç»™ä½ èƒ½é‡æ»¡æ»¡ï¼/è¿½æ˜Ÿè·¯ä¸Šï¼Œæˆ‘é™ªä½ ï¼å…³æ³¨æˆ‘ï¼Œæ¯æ—¥å½©è™¹å±ä¸æ–­ï¼ã€‚',
						images: [/* å›¾ç‰‡æ•°æ® */],
						isChecked: false,
						likes: 1
					},
					{
						name: 'åå­—2',
						cat: 'é‡‘æ¯›çŒ«',
						time: '1åˆ†é’Ÿå‰',
						content: 'é‡‘æ¯›çŒ«éå¸¸èªæ˜ã€‚',
						images: [/* å›¾ç‰‡æ•°æ® */],
						isChecked: false,
						likes: 3
					},
					{
						name: 'åå­—3',
						cat: 'æš¹ç½—çŒ«',
						time: '2åˆ†é’Ÿå‰',
						content: 'æš¹ç½—çŒ«éå¸¸æ¸©é¡ºã€‚',
						images: [1,2,3,4,5,6,7,8,9],
						isChecked: false,
						likes: 5
					}
				]
			}
		},
		methods: {
			toggleCheck(index) {
				this.posts[index].isChecked = !this.posts[index].isChecked
				// åˆ‡æ¢ç‚¹èµçŠ¶æ€åæ›´æ–°ç‚¹èµæ•°
				this.posts[index].likes += this.posts[index].isChecked ? 1 : -1;
			}
		}
	}
</script>
<style scoped lang="less">
	.content {
		display: flex;
		flex-direction: column;
		align-items: center;
		background-image: url('../../static/background.png');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		background-color: #fffce0;
		padding-top: 15%;
		width: 100%;

	}

	.title {
		font-size: 40rpx;
		font-weight: 600;
		margin-left: 30rpx;
		position: relative;
		margin-right: auto;
	}

	.text {
		position: relative;
		display: inline-block;
	}

	.post {
		width: 90%;
		background-color: #fff;
		border: #000 4rpx solid;
		border-radius: 20rpx;
		margin-top: 8%;
	}

	.post-title {
		height: 130rpx;
		margin-top: 20rpx;
		display: flex;
		justify-content: space-between;
	}

	.avatar {
		height: 100%;
		width: 70%;
		display: flex;
		justify-content: flex-start;
		align-items: center;
	}

	.avatar-img {
		width: 80rpx;
		height: 80rpx;
		background-color: #ff5500;
		border-radius: 100rpx;
		border: #000 2rpx solid;
		margin-left: 20rpx;
	}

	.avatar-name {
		width: 60%;
		height: 100%;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
	}

	.name-text {
		width: 80%;
		height: 40%;
	}

	.name-cat {
		width: 80%;
		height: 40%;
	}

	.time {
		width: 20%;
		height: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.content-text {
		margin: 20rpx;
		margin-left: 30rpx;
		line-height: 38rpx;
		display: -webkit-box;
		-webkit-box-orient: vertical;
		overflow: hidden;
		-webkit-line-clamp: 4;
	}

	.img {
		width: 100%;
	}

	.grid {
		// margin: 20rpx;
		display: flex;
		flex-wrap: wrap;
		justify-content: space-evenly;
	}

	.grid-item {
		width: 200rpx;
		margin-bottom: 20rpx;
		height: 200rpx;
		background-color: #ddd;
		border-radius: 8rpx;
	}

	.like {
		height: 80rpx;
		width: 100%;
		display: flex;
		justify-content: flex-end;

	}

	.icon {
		width: 20%;
		display: flex;
		justify-content: center;
		align-self: center;
	}

	.icon-img {
		width: 40rpx;
		height: 40rpx;
	}
	.count{
		margin-left: 10rpx;
	}
	.fixed {
		background-image: url('../../static/add.png');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		width: 150rpx;
		height: 150rpx;
		position: fixed;
		bottom: 3%;
		right: -4%;
	}
	
	.fixed:active {
		background-image: url('../../static/add2.png');
	}
</style>