<view class="chat-container data-v-bf16e7f4"><uni-nav-bar vue-id="6e1d75c0-1" left-icon="left" title="{{chatName}}" height="160rpx" data-event-opts="{{[['^clickLeft',[['back']]]]}}" bind:clickLeft="__e" class="data-v-bf16e7f4" bind:__l="__l"></uni-nav-bar><scroll-view class="message-list data-v-bf16e7f4" scroll-y="{{true}}" scroll-into-view="{{scrollInto}}" scroll-with-animation="{{true}}" data-event-opts="{{[['scrolltoupper',[['loadMoreMessages',['$event']]]]]}}" bindscrolltoupper="__e"><block wx:if="{{isLoading}}"><view class="loading data-v-bf16e7f4">加载中...</view></block><block wx:for="{{messages}}" wx:for-item="msg" wx:for-index="index" wx:key="index"><view class="{{['data-v-bf16e7f4','message-item',msg.role==='user'?'user':'other']}}" id="{{'msg-'+index}}"><image class="avatar data-v-bf16e7f4" src="{{msg.avatar}}" mode="aspectFill"></image><view class="message-content data-v-bf16e7f4"><view class="bubble data-v-bf16e7f4">{{msg.content}}</view><view class="time data-v-bf16e7f4">{{msg.time}}</view></view></view></block></scroll-view><view class="input-area data-v-bf16e7f4"><view class="input-box data-v-bf16e7f4"><input class="input data-v-bf16e7f4" placeholder="输入消息..." adjust-position="{{false}}" data-event-opts="{{[['confirm',[['sendMessage',['$event']]]],['input',[['__set_model',['','inputMessage','$event',[]]]]]]}}" value="{{inputMessage}}" bindconfirm="__e" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" class="send-btn data-v-bf16e7f4" bindtap="__e">发送</view></view></view>