<view class="data-v-5d01c5f0"><uni-nav-bar vue-id="5e6504fe-1" left-icon="left" title="记录列表" height="160rpx" data-event-opts="{{[['^clickLeft',[['back']]]]}}" bind:clickLeft="__e" class="data-v-5d01c5f0" bind:__l="__l"></uni-nav-bar><view class="search-box data-v-5d01c5f0"><block wx:for="{{searchList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toggleHandler',[index]]]]]}}" class="search-item data-v-5d01c5f0" style="{{';'+('background-color:'+(isOpen[index]?'#fffce0':'#fefefe')+';')}}" bindtap="__e"><text class="btn-text data-v-5d01c5f0">{{''+item.name+''}}</text><u-icon vue-id="{{'5e6504fe-2-'+index}}" name="arrow-down" color="#818177" size="15" class="data-v-5d01c5f0" bind:__l="__l"></u-icon></view></block></view><u-picker vue-id="5e6504fe-3" show="{{showPicker}}" columns="{{petColumns}}" keyName="label" value="{{selectedPetId}}" data-event-opts="{{[['^confirm',[['onPetConfirm']]],['^cancel',[['cancelPet']]],['^input',[['__set_model',['','selectedPetId','$event',[]]]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:input="__e" class="data-v-5d01c5f0" bind:__l="__l"></u-picker><u-picker vue-id="5e6504fe-4" show="{{showType}}" columns="{{typeColumns}}" value="{{selectedType}}" data-event-opts="{{[['^confirm',[['onTypeConfirm']]],['^cancel',[['cancelType']]],['^input',[['__set_model',['','selectedType','$event',[]]]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:input="__e" class="data-v-5d01c5f0" bind:__l="__l"></u-picker><u-picker vue-id="5e6504fe-5" show="{{showData}}" columns="{{dataColumns}}" data-ref="uPicker" value="{{selectedData}}" data-event-opts="{{[['^confirm',[['onDataConfirm']]],['^change',[['changeHandler']]],['^cancel',[['cancelData']]],['^input',[['__set_model',['','selectedData','$event',[]]]]]]}}" bind:confirm="__e" bind:change="__e" bind:cancel="__e" bind:input="__e" class="data-v-5d01c5f0 vue-ref" bind:__l="__l"></u-picker><view class="content data-v-5d01c5f0"><block wx:for="{{record}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="log data-v-5d01c5f0"><view class="log-header data-v-5d01c5f0"><view class="tips data-v-5d01c5f0" style="{{'background-color:'+(item.backgroundColor)+';'}}">{{''+(item.eventType||'')+''}}</view><view class="time data-v-5d01c5f0">{{''+item.recorded_at+''}}</view></view><view class="log-content data-v-5d01c5f0"><view class="log-text data-v-5d01c5f0"><view class="note data-v-5d01c5f0" style="color:#8d5515;"><rich-text nodes="{{item.eventDetails}}"></rich-text></view><view class="note data-v-5d01c5f0">{{'备注： '+item.note+''}}</view><view class="image-container data-v-5d01c5f0"><block wx:for="{{item.note_pic}}" wx:for-item="img" wx:for-index="imgIndex" wx:key="imgIndex"><image class="preview-image _img data-v-5d01c5f0" src="{{img}}"></image></block></view></view><view class="pet-container data-v-5d01c5f0">宠物：<block wx:for="{{item.pet_pics}}" wx:for-item="petImg" wx:for-index="index" wx:key="index"><view class="pet-pic data-v-5d01c5f0"><image class="pet-image _img data-v-5d01c5f0" src="{{petImg}}" alt></image></view></block></view><view data-event-opts="{{[['tap',[['open',['$0'],[[['record','id',item.id,'id']]]]]]]}}" class="delete-record data-v-5d01c5f0" bindtap="__e"><uni-icons vue-id="{{'5e6504fe-6-'+index}}" type="trash" size="25" class="data-v-5d01c5f0" bind:__l="__l"></uni-icons>删除</view></view></view></block></view><u-popup vue-id="5e6504fe-7" show="{{show}}" round="{{10}}" mode="bottom" overlayOpacity="0.05" closeable="{{true}}" data-event-opts="{{[['^close',[['close']]]]}}" bind:close="__e" class="data-v-5d01c5f0" bind:__l="__l" vue-slots="{{['default']}}"><view style="padding-bottom:40rpx;" class="data-v-5d01c5f0"><view style="font-weight:600;margin:20rpx  40rpx;" class="data-v-5d01c5f0">确认删除这条记录吗？</view><view style="margin:0rpx  40rpx;border-radius:40rpx;padding-bottom:20rpx;" class="data-v-5d01c5f0"><view class="log-details data-v-5d01c5f0"><view class="log-header data-v-5d01c5f0"><view class="tips data-v-5d01c5f0" style="{{'background-color:'+(selectedLog.backgroundColor)+';'}}">{{''+(selectedLog.eventType||'')+''}}</view><view class="time data-v-5d01c5f0">{{''+selectedLog.recorded_at+''}}</view></view><view class="log-content data-v-5d01c5f0"><view class="log-text data-v-5d01c5f0"><view class="note data-v-5d01c5f0" style="color:#8d5515;"><rich-text nodes="{{selectedLog.eventDetails}}"></rich-text></view><view class="note data-v-5d01c5f0">{{'备注： '+selectedLog.note+''}}</view><view class="image-container data-v-5d01c5f0"><block wx:for="{{selectedLog.note_pic}}" wx:for-item="img" wx:for-index="imgIndex" wx:key="imgIndex"><image class="preview-image _img data-v-5d01c5f0" src="{{img}}"></image></block></view></view><view class="pet-container data-v-5d01c5f0">宠物：<block wx:for="{{selectedLog.pet_pics}}" wx:for-item="petImg" wx:for-index="index" wx:key="index"><view class="pet-pic data-v-5d01c5f0"><image class="pet-image _img data-v-5d01c5f0" src="{{petImg}}" alt></image></view></block></view></view></view></view><view style="display:flex;justify-content:center;" class="data-v-5d01c5f0"><view data-event-opts="{{[['tap',[['deleteRecord']]]]}}" class="record-book data-v-5d01c5f0" bindtap="__e">确认删除</view></view></view></u-popup></view>